<div id='audio-player' layout='column' ng-controller='AudioPlayer as ap' ng-show='ap.open' ng-mousemove='ap.seekDragging()' ng-mouseup='ap.seekDragged()'>


  <!-- The audio element -->
  <audio id='audioStream'></audio>


  <!-- The mini player -->
  <div layout='row' class='mini-player shade-bg-100 md-whiteframe-16dp' ng-click='ap.toggleFullPlayer()'  md-ink-ripple='#FF5722'>

    <div class='album-art md-whiteframe-1dp' style='background-image: url("{{ap.track.thumburl}}")'></div>

    <div layout='column' layout-align='center start' class='track-info' aria-label='Track Information' flex>
      <div class='info text-dark'>{{ap.track.title}}</div>
      <div class='info text-dark text-2'>{{ap.track.album}}</div>
      <div class='info text-dark text-12'>{{ap.track.artist}}</div>
    </div>

    <div layout='row' layout-align='end center' ng-show='!ap.fullPlayer'>
      <md-button class='md-icon-button  md-ico-btn-48' ng-click='ap.skipBackward()' aria-label='Skip Reverse' hide-xs>
        <i class="material-icons md-48 md-primary">skip_previous</i>
      </md-button>
      <md-button class='md-icon-button  md-ico-btn-48' ng-click='ap.togglePlay()' aria-label='Play / Pause'>
        <i class="material-icons md-48 md-primary">{{ap.playpauseSymbol}}</i>
      </md-button>
      <md-button class='md-icon-button  md-ico-btn-48' ng-click='ap.skipForward()' aria-label='Skip Forward' hide-xs>
        <i class="material-icons md-48 md-primary">skip_next</i>
      </md-button>
      <md-button class='md-icon-button  md-ico-btn-48' ng-click='ap.toggleRepeat()' aria-label='Repeat Mode' hide show-gt-sm>
        <i class="material-icons md-36 {{ap.repeatClass}}">repeat</i>
      </md-button>
      <md-button class='md-icon-button  md-ico-btn-48' ng-click='ap.toggleShuffle()' aria-label='Shuffle Playlist' hide show-gt-sm>
        <i class="material-icons md-36 {{ap.shuffleClass}}">shuffle</i>
      </md-button>
    </div>

  </div>


  <!-- The playlist -->
  <div class='playlist' layout='column' style='background-image: url("{{ap.track.thumburl}}")' flex>
    <md-list class='queue' flex>
      <md-subheader class="md-primary md-whiteframe-2dp queue-item"><h4>Current Playlist</h4></md-subheader>
      <md-list-item class="md-3-line queue-item" ng-repeat="track in ap.queue track by $index">
        <div class="md-list-item-text" layout="column">
          <h3 class='text-dark'>{{track.title}}</h3>
          <h4 class='text-dark text-2'>{{track.album}}</h4>
          <h4 class='text-dark'>{{track.artist}}</h4>
        </div>
        <md-divider></md-divider>
      </md-list-item>
    </md-list>
  </div>


  <!-- The progress bar -->
  <div id='audioProgressBar' class='shade-bg-400' ng-mousedown='ap.seekDrag()'><div id='audioProgress' class='accent-bg-400'></div></div>


  <!-- The full controls  -->
  <div layout='row' layout='center center' class='player-controls shade-bg-100' ng-show='ap.fullPlayer' aria-label='Player Controls'>

  <div layout='row' layout-align='center center' flex>
    <md-button class='md-icon-button  md-ico-btn-36' ng-click='ap.toggleRepeat()' aria-label='Repeat Mode'><i class="material-icons md-36 {{ap.repeatClass}}">repeat</i></md-button>
  </div>


  <div layout='row' layout-align='center center' flex>
    <md-button class='md-icon-button md-ico-btn-48' ng-click='ap.skipBackward()' aria-label='Skip Reverse'><i class="material-icons md-48 md-primary">skip_previous</i></md-button>
    <md-button class='md-icon-button md-ico-btn-48' ng-click='ap.togglePlay()' aria-label='Play / Pause'><i class="material-icons md-48 md-primary">{{ap.playpauseSymbol}}</i></md-button>
    <md-button class='md-icon-button md-ico-btn-48' ng-click='ap.skipForward()' aria-label='Skip Forward'><i class="material-icons md-48 md-primary">skip_next</i></md-button>
  </div>

  <div layout='row' layout-align='center center' flex>
    <md-button class='md-icon-button md-ico-btn-36' ng-click='ap.toggleShuffle()' aria-label='Shuffle Playlist'><i class="material-icons md-36 {{ap.shuffleClass}}">shuffle</i></md-button>
  </div>

  </div>


</div>
